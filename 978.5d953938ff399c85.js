"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[978],{8978:(M,v,s)=>{s.r(v),s.d(v,{RunnerModule:()=>U});var f=s(9808),h=s(1431),a=s(8433),y=s(4004),e=s(1223),p=s(8466),Z=s(7922),g=s(7688),T=s(7826);function A(t,r){if(1&t&&(e.TgZ(0,"a",12),e._uU(1,"Back"),e.qZA()),2&t){const n=e.oxw().ngIf;e.MGl("routerLink","/run/",null==n.previous?null:n.previous.id,"")}}function C(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"scenarii-title"),e._uU(2,"Scenario "),e.TgZ(3,"scenarii-badge"),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"main",3),e.TgZ(6,"div",4),e.TgZ(7,"p",5),e._uU(8),e.qZA(),e.TgZ(9,"div",6),e.TgZ(10,"span"),e._uU(11),e.qZA(),e.qZA(),e.TgZ(12,"div",7),e.TgZ(13,"button",8),e.NdJ("click",function(){return e.CHM(n),e.oxw().onFail()}),e._uU(14," It's not valid "),e.qZA(),e.TgZ(15,"button",9),e.NdJ("click",function(){return e.CHM(n),e.oxw().onValidate()}),e._uU(16," It's valid "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",10),e.YNc(18,A,2,1,"a",11),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=r.ngIf,o=e.oxw();e.xp6(4),e.AsE("",n.index+1," / ",o.length,""),e.xp6(4),e.hij(" ",n.category," "),e.xp6(3),e.Oqu(n.message),e.xp6(7),e.Q6J("ngIf",n.previous)}}function S(t,r){1&t&&e._uU(0," Unknown Scenario ")}let _=(()=>{class t{constructor(n,o,i,u){this.activatedRoute=n,this.scenarios=o,this.reports=i,this.router=u,this.length=0,this.scenario$=this.activatedRoute.data.pipe((0,y.U)(l=>{const c=l.scenario;return this.scenario=c,c})),this.length=this.scenarios.length}onValidate(){var n;!(null===(n=this.scenario)||void 0===n?void 0:n.id)||(this.reports.set({scenarioId:this.scenario.id,comment:"",valid:!0}),this.goToNextPage())}onFail(){var n;!(null===(n=this.scenario)||void 0===n?void 0:n.id)||(this.reports.set({scenarioId:this.scenario.id,comment:"",valid:!1}),this.goToNextPage())}goToNextPage(){var n,o,i;(null===(o=null===(n=this.scenario)||void 0===n?void 0:n.next)||void 0===o?void 0:o.id)?this.router.navigate(["/run",null===(i=this.scenario.next)||void 0===i?void 0:i.id]):this.router.navigateByUrl("/run/done")}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(a.gz),e.Y36(p.z),e.Y36(Z.M),e.Y36(a.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["scenarii-step"]],decls:4,vars:4,consts:[["class","flex flex-col flex-auto",4,"ngIf","ngIfElse"],["unknownScenario",""],[1,"flex","flex-col","flex-auto"],[1,"p-3","flex-auto","flex","flex-col"],[1,"flex-auto","justify-center","items-center","flex","flex-col"],[1,"md:text-xl"],[1,"text-xl","md:text-3xl","flex-auto","flex","flex-col","justify-center"],[1,"pt-5"],["type","submit",1,"mr-5","inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-red-600","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-green-600","hover:bg-green-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500",3,"click"],[1,""],[3,"routerLink",4,"ngIf"],[3,"routerLink"]],template:function(n,o){if(1&n&&(e.YNc(0,C,19,5,"div",0),e.ALo(1,"async"),e.YNc(2,S,1,0,"ng-template",null,1,e.W1O)),2&n){const i=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,o.scenario$))("ngIfElse",i)}},directives:[f.O5,g.r,T.F,a.yS],pipes:[f.Ov],styles:["[_nghost-%COMP%]{display:contents}"]}),t})();function m(t,r,n,o,i,u,l){try{var c=t[u](l),d=c.value}catch(I){return void n(I)}c.done?r(d):Promise.resolve(d).then(o,i)}function x(t){return function(){var r=this,n=arguments;return new Promise(function(o,i){var u=t.apply(r,n);function l(d){m(u,o,i,l,c,"next",d)}function c(d){m(u,o,i,l,c,"throw",d)}l(void 0)})}}const R=[{path:"done",component:(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["scenarii-end"]],decls:7,vars:0,consts:[[1,"flex","flex-col","flex-auto"],[1,"p-3","flex-auto","flex","flex-col"],[1,"flex-auto","justify-center","items-center","flex","flex-col"],[1,"text-xl","md:text-3xl"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"scenarii-title"),e._uU(2,"Done !"),e.qZA(),e.TgZ(3,"main",1),e.TgZ(4,"div",2),e.TgZ(5,"p",3),e._uU(6,"And it's done !"),e.qZA(),e.qZA(),e.qZA(),e.qZA())},directives:[g.r],styles:["[_nghost-%COMP%]{display:contents}"]}),t})()},{path:":id",component:_,resolve:{scenario:(()=>{class t{constructor(n,o){this.router=n,this.scenarios=o}resolve(n){var o=this;return x(function*(){const i=o.scenarios.get(n.params.id);if(i)return Object.assign(Object.assign({},i),{next:o.scenarios.next(n.params.id),previous:o.scenarios.previous(n.params.id),length:o.scenarios.length});yield o.router.navigateByUrl("/")})()}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(a.F0),e.LFG(p.z))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}},{path:"",resolve:{scenario:(()=>{class t{constructor(n,o){this.router=n,this.scenarios=o}resolve(){var n=this;return x(function*(){const o=n.scenarios.getAll()[0];n.router.navigateByUrl(`/run/${o.id}`)})()}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(a.F0),e.LFG(p.z))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},children:[]}];let F=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[a.Bz.forChild(R)],a.Bz]}),t})(),U=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[f.ez,h.m,F]]}),t})()}}]);